(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eded67c8"],{"4b3d":function(e,t,c){},"4cb5":function(e,t,c){"use strict";c("4b3d")},"74a6":function(e,t,c){"use strict";c("b0a0")},b0a0:function(e,t,c){},b988:function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),a={class:"wrap global-bg"},i={class:"detail-mask",ref:"maskRef"},r={class:"detail-mask-inner"};function l(e,t,c,l,s,o){var u=Object(n["E"])("sub-header"),b=Object(n["E"])("detail-cover"),d=Object(n["E"])("detail-list"),f=Object(n["F"])("load");return Object(n["w"])(),Object(n["h"])("div",a,[Object(n["k"])(b,{isFixed:l.isFixed,onImgLoad:l.onImgLoad,pic:l.playlist.coverImgUrl,ref:"picRef"},{default:Object(n["P"])((function(){return[Object(n["k"])(u,{class:"sub-header",ref:"navRef"},{default:Object(n["P"])((function(){return[Object(n["j"])(Object(n["I"])(l.playlist&&l.playlist.name),1)]})),_:1},512)]})),_:1},8,["isFixed","onImgLoad","pic"]),l.playlist?(Object(n["w"])(),Object(n["f"])(d,{key:0,onScroll:l.onScroll,isPic:l.isPic,list:l.playlist.tracks,ref:"scrollRef"},null,8,["onScroll","isPic","list"])):Object(n["g"])("",!0),Object(n["i"])("div",i,[Object(n["Q"])(Object(n["i"])("div",r,null,512),[[f,!l.isPicLoad]])],512)])}var s=c("1da1"),o=(c("96cf"),c("4795"),c("483a")),u={class:"header-top"},b={class:"mask",ref:"maskRef"},d=["src"],f={class:"singer"};function j(e,t,c,a,i,r){return Object(n["w"])(),Object(n["h"])(n["a"],null,[Object(n["i"])("div",u,[Object(n["D"])(e.$slots,"default",{},void 0,!0)]),Object(n["i"])("div",{class:Object(n["q"])(["cover-wrap",{"has-fixed":c.isFixed}])},[Object(n["i"])("div",b,null,512),Object(n["i"])("img",{ref:"picRef",src:c.pic,onLoad:t[0]||(t[0]=function(){return a.onImgLoad&&a.onImgLoad.apply(a,arguments)})},null,40,d),Object(n["i"])("h4",f,Object(n["I"])(c.singer),1)],2)],64)}var O={name:"detail-cover",props:["pic","singer","isFixed"],emits:["img-load"],setup:function(e,t){var c=t.emit,a=Object(n["B"])(!0),i=Object(n["B"])(null),r=Object(n["B"])(null),l=function(e){c("img-load"),r.value&&(r.value.style.height=e.target.clientHeight+"px")};return{picRef:i,maskRef:r,isShow:a,onImgLoad:l}}},p=(c("74a6"),c("6b0d")),v=c.n(p);const m=v()(O,[["render",j],["__scopeId","data-v-11e3d7af"]]);var y=m,g={class:"wrap-bg"},R={class:"header"},h=Object(n["j"])("音乐列表 "),k={class:"word"},w={class:"icon shunxu",ref:"playModeTypeRef"},x={class:"content"},I=["onClick"],S={key:0,class:"pic"},P={ref:"pic"},L={class:"desc"},B={class:"sub-name"};function T(e,t,c,a,i,r){var l=Object(n["E"])("mini-player-box"),s=Object(n["E"])("scroll"),o=Object(n["F"])("lazy");return Object(n["w"])(),Object(n["f"])(s,{class:"list-wrap","probe-type":"3",ref:"scrollRef",bounce:!0,onScroll:a.onScroll},{default:Object(n["P"])((function(){return[Object(n["i"])("div",g,[Object(n["i"])("div",R,[h,Object(n["i"])("div",{class:"operate",onClick:t[0]||(t[0]=function(){return a.onPlayModeType&&a.onPlayModeType.apply(a,arguments)})},[Object(n["i"])("span",k,Object(n["I"])(a.calcCurrPlayModeType),1),Object(n["i"])("i",w,null,512)])]),Object(n["i"])("div",x,[(Object(n["w"])(!0),Object(n["h"])(n["a"],null,Object(n["C"])(c.list,(function(e){return Object(n["w"])(),Object(n["h"])("div",{class:"item",key:e.id,onClick:function(t){return a.onSelectItem(e)}},[c.isPic?(Object(n["w"])(),Object(n["h"])("div",S,[Object(n["Q"])(Object(n["i"])("img",P,null,512),[[o,e.al.picUrl]])])):Object(n["g"])("",!0),Object(n["i"])("div",L,[Object(n["i"])("h4",{class:Object(n["q"])(["name",{active:a.currentSong.id===e.id}])},Object(n["I"])(e.name),3),Object(n["i"])("h4",B,Object(n["I"])(e.ar[0].name)+" - "+Object(n["I"])(e.al.name),1)])],8,I)})),128))])]),Object(n["k"])(l)]})),_:1},8,["onScroll"])}c("4160"),c("159b"),c("a15b"),c("d81d");var M=c("ef39"),C=c("5502"),F=c("d69f"),_=c("b7c5"),U=c("e7a0"),E=c("3325"),J=c("3a13"),D=c("753e"),H={name:"detail-list",props:["list","isPic"],emits:["scroll"],components:{MiniPlayerBox:F["a"],Scroll:M["a"]},setup:function(e,t){var c=t.emit,a=Object(C["c"])(),i=Object(n["B"])(null),r=function(e){c("scroll",e)};Object(E["a"])({});var l=Object(D["a"])(),o=l.playListToId,u=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(c){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.parse(JSON.stringify(e.list)),n.forEach((function(e){e.picUrl=e.al.picUrl,e.singer=e.ar.map((function(e){return e.name})).join(" ")})),t.next=4,o(n,c.id);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=Object(n["B"])(null),d=Object(_["a"])({playModeTypeRef:b}),f=d.calcCurrPlayModeType,j=Object(U["a"])(),O=j.playSongs,p=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O(e.list);case 2:a.commit("setFullScreen",!0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=Object(J["a"])(),m=v.currentSong;return{onScroll:r,pic:i,onSelectItem:u,playModeTypeRef:b,calcCurrPlayModeType:f,onPlayModeType:p,currentSong:m}}};c("4cb5");const N=v()(H,[["render",T],["__scopeId","data-v-551c1d76"]]);var $=N,q=c("365c"),z=c("6c02"),Q=(c("4de4"),function(){var e,t,c,a,i=Object(n["B"])(null),r=Object(n["B"])(null),l=Object(n["B"])(null);Object(n["u"])((function(){e=i.value.picRef.parentNode,t=r.value.$el,c=l.value.$el.getBoundingClientRect().y,a=t.clientHeight}));var s=function(n){var i=n.y;if(i>0)e.style.transform="scale(".concat(1+i/c,")");else{var r=-i/c;r>1.2&&(r=1),e.style.filter="sepia(".concat(r,")")}i<=-(c-a)?(t.classList.add("fixed"),e.classList.add("fixed")):(t.classList.remove("fixed"),e.classList.remove("fixed"))};return{picRef:i,navRef:r,onScroll:s,scrollRef:l}}),A={name:"Recommend-detail",components:{DetailList:$,DetailCover:y,SubHeader:o["a"]},setup:function(){var e=Object(z["c"])(),t=Object(n["B"])({}),c=Object(n["B"])(null),a=Object(n["B"])(!1),i=Object(n["B"])(!0),r=Object(n["B"])(null),l=Object(n["B"])(!1),o=function(){l.value=!0,setTimeout((function(){r.value&&r.value.classList.add("hide")}))},u=Q(),b=u.onScroll,d=u.picRef,f=u.navRef,j=u.scrollRef;return Object(n["O"])(Object(s["a"])(regeneratorRuntime.mark((function c(){var n,a,r,l,s;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(n=e.params.id,a=e.params.type,"personalized"!==a){c.next=7;break}return c.next=5,Object(q["j"])({id:n});case 5:r=c.sent,t.value=r.playlist;case 7:if("album"!==a){c.next=15;break}return i.value=!1,c.next=11,Object(q["b"])({id:n});case 11:l=c.sent,t.value=l.album,t.value.coverImgUrl=l.album.blurPicUrl,t.value.tracks=l.songs;case 15:if("singer"!==a){c.next=23;break}return i.value=!0,c.next=19,Object(q["o"])(n);case 19:s=c.sent,t.value.coverImgUrl=s.coverImgUrl,t.value.name=s.name,t.value.tracks=s.songs;case 23:case"end":return c.stop()}}),c)})))),{playlist:t,coverRef:c,onScroll:b,picRef:d,navRef:f,scrollRef:j,isFixed:a,isPic:i,isPicLoad:l,onImgLoad:o,maskRef:r}}};c("e39e");const G=v()(A,[["render",l],["__scopeId","data-v-7c3c41c4"]]);t["default"]=G},dff4:function(e,t,c){},e39e:function(e,t,c){"use strict";c("dff4")}}]);
//# sourceMappingURL=chunk-eded67c8.c29b1cbb.js.map