{"version":3,"sources":["webpack:///./src/components-block/recommend/detail-list.vue?d1e2","webpack:///./src/components/cover/detail-cover.vue?fa18","webpack:///./src/views/recommend/Recommend-detail.vue","webpack:///./src/components/cover/detail-cover.vue","webpack:///./src/components/cover/detail-cover.vue?44c1","webpack:///./src/components-block/recommend/detail-list.vue","webpack:///./src/components-block/recommend/detail-list.vue?0b23","webpack:///./src/views/recommend/use-detail-cover.js","webpack:///./src/views/recommend/Recommend-detail.vue?a087","webpack:///./src/views/recommend/Recommend-detail.vue?4b94"],"names":["class","ref","isFixed","onImgLoad","pic","playlist","coverImgUrl","name","onScroll","isPic","list","tracks","isPicLoad","src","singer","props","emits","setup","emit","isShow","picRef","maskRef","e","value","style","height","target","clientHeight","__exports__","probe-type","bounce","onPlayModeType","calcCurrPlayModeType","item","key","id","onSelectItem","al","picUrl","currentSong","ar","components","MiniPlayerBox","Scroll","store","playListToId","copyList","JSON","parse","stringify","forEach","song","map","it","join","playModeTypeRef","playSongs","commit","picEl","navEl","picHeight","navHeight","navRef","scrollRef","onMounted","parentNode","$el","getBoundingClientRect","y","transform","val","filter","classList","add","remove","DetailList","DetailCover","SubHeader","route","coverRef","setTimeout","params","type","data","album","blurPicUrl","songs","render"],"mappings":"2IAAA,W,oCCAA,W,6FCCOA,MAAM,kB,GASJA,MAAM,cAAcC,IAAI,W,GACtBD,MAAM,qB,6KAVf,eAcM,MAdN,EAcM,CAbJ,eAIe,GAJAE,QAAS,EAAAA,QAAU,UAAU,EAAAC,UAAYC,IAAK,EAAAC,SAASC,YAAaL,IAAI,U,yBACrF,iBAEa,CAFb,eAEa,GAFDD,MAAM,aAAaC,IAAI,U,yBACjC,iBAA+B,C,8BAA5B,EAAAI,UAAY,EAAAA,SAASE,MAAI,O,oDAIM,EAAAF,U,iBAAtC,eAC2C,G,MAD7B,SAAQ,EAAAG,SAA2BC,MAAO,EAAAA,MAAQC,KAAM,EAAAL,SAASM,OAClEV,IAAI,a,2DACjB,eAIM,MAJN,EAIM,C,eAHJ,eAEM,MAFN,EAEM,W,IAFkC,EAAAW,c,4DCVvCZ,MAAM,c,GAIJA,MAAM,OAAOC,IAAI,W,aAElBD,MAAM,U,4EANZ,eAEM,MAFN,EAEM,CADJ,eAAa,mCAEf,eAIM,OAJDA,MAAK,gBAAC,aAAY,aAAuB,EAAAE,Y,CAC5C,eAAsC,MAAtC,EAAsC,UACtC,eAA+C,OAA1CD,IAAI,SAAUY,IAAK,EAAAT,IAAM,OAAI,8BAAE,EAAAD,WAAA,EAAAA,UAAA,sB,WACpC,eAAoC,KAApC,EAAoC,eAAd,EAAAW,QAAM,I,QAOjB,OACbP,KAAM,eACNQ,MAAO,CAAC,MAAO,SAAU,WACzBC,MAAO,CAAC,YACRC,MAJa,SAIPF,EAJO,GAIU,IAARG,EAAQ,EAARA,KACPC,EAAS,gBAAI,GACbC,EAAS,eAAI,MACbC,EAAU,eAAI,MACdlB,EAAY,SAACmB,GACjBJ,EAAK,YACDG,EAAQE,QACVF,EAAQE,MAAMC,MAAMC,OAASH,EAAEI,OAAOC,aAAe,OAGzD,MAAO,CACLP,SACAC,UACAF,SACAhB,e,iCCzBN,MAAMyB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,Q,GCPN5B,MAAM,W,GACJA,MAAM,U,iBAAS,S,GAEVA,MAAM,Q,GACTA,MAAM,cAAcC,IAAI,mB,GAG1BD,MAAM,W,uBAEFA,MAAM,O,GACJC,IAAI,O,GAEND,MAAM,Q,GAELA,MAAM,Y,4IAfpB,eAqBS,GArBDA,MAAM,YAAY6B,aAAW,IAAI5B,IAAI,YAAa6B,QAAQ,EAAO,SAAQ,EAAAtB,U,yBAC/E,iBAkBM,CAlBN,eAkBM,MAlBN,EAkBM,CAjBJ,eAKM,MALN,EAKM,C,EAJJ,eAGM,OAHDR,MAAM,UAAW,QAAK,8BAAE,EAAA+B,gBAAA,EAAAA,eAAA,sB,CAC3B,eAAoD,OAApD,EAAoD,eAA9B,EAAAC,sBAAoB,GAC1C,eAAiD,IAAjD,EAAiD,cAGrD,eAUM,MAVN,EAUM,E,mBATJ,eAQM,2BAR2B,EAAAtB,MAAI,SAAZuB,G,wBAAzB,eAQM,OARDjC,MAAM,OAA6BkC,IAAKD,EAAKE,GAAK,QAAK,mBAAE,EAAAC,aAAaH,K,CAClD,EAAAxB,O,iBAAvB,eAEM,MAFN,EAEM,C,eADJ,eAAuC,MAAvC,EAAuC,W,GAAhBwB,EAAKI,GAAGC,a,sBAEjC,eAGM,MAHN,EAGM,CAFJ,eAAmF,MAA/EtC,MAAK,gBAAC,OAAM,QAAkB,EAAAuC,YAAYJ,KAAOF,EAAKE,O,eAAQF,EAAK1B,MAAI,GAC3E,eAAoE,KAApE,EAAoE,eAA5C0B,EAAKO,GAAE,GAAIjC,MAAO,MAAG,eAAG0B,EAAKI,GAAG9B,MAAI,M,kBAKpE,eAAmC,O,iKAexB,GACbA,KAAM,cACNQ,MAAO,CAAC,OAAQ,SAChBC,MAAO,CAAC,UACRyB,WAAY,CACVC,cAAA,OACAC,OAAA,QAEF1B,MARa,SAQPF,EARO,GAQU,IAARG,EAAQ,EAARA,KACP0B,EAAQ,iBACRxC,EAAM,eAAI,MACVI,EAAW,SAACc,GAChBJ,EAAK,SAAUI,IAGjB,eAAa,IACb,MAAyB,iBAAjBuB,EAAR,EAAQA,aACFT,EAAW,yDAAI,WAAOH,GAAP,8FACba,EAAWC,KAAKC,MAAMD,KAAKE,UAAUlC,EAAML,OACjDoC,EAASI,SAAQ,SAAAC,GACfA,EAAKb,OAASa,EAAKd,GAAGC,OACtBa,EAAKrC,OAASqC,EAAKX,GAAGY,KAAI,SAAAC,GAAC,OAAKA,EAAG9C,QAAM+C,KAAK,QAJ7B,SAMbT,EAAaC,EAAUb,EAAKE,IANf,2CAAJ,sDASXoB,EAAkB,eAAI,MAC5B,EAEI,eAAgB,CAAEA,oBADpBvB,EADF,EACEA,qBAEF,EAAsB,iBAAdwB,EAAR,EAAQA,UACFzB,EAAa,yDAAI,8GACfyB,EAAUzC,EAAML,MADD,OAErBkC,EAAMa,OAAO,iBAAiB,GAFT,2CAAJ,qDAKnB,EAAwB,iBAAhBlB,EAAR,EAAQA,YACR,MAAO,CACL/B,WACAJ,MACAgC,eACAmB,kBACAvB,uBACAD,iBACAQ,iB,UCzEN,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,Q,wBCPA,G,UAAA,WACb,IAGImB,EACAC,EACAC,EACAC,EANEzC,EAASnB,eAAI,MACb6D,EAAS7D,eAAI,MACb8D,EAAY9D,eAAI,MAKtB+D,gBAAU,WACRN,EAAQtC,EAAOG,MAAMH,OAAO6C,WAC5BN,EAAQG,EAAOvC,MAAM2C,IAErBN,EAAYG,EAAUxC,MAAM2C,IAAIC,wBAAwBC,EACxDP,EAAYF,EAAMhC,gBAEpB,IAAMnB,EAAW,SAAC,GAAU,IAAR4D,EAAQ,EAARA,EAElB,GAAIA,EAAI,EACNV,EAAMlC,MAAM6C,UAAZ,gBAAiC,EAAID,EAAIR,EAAzC,SACK,CACL,IAAIU,GAAOF,EAAIR,EACXU,EAAM,MACRA,EAAM,GAERZ,EAAMlC,MAAM+C,OAAZ,gBAA8BD,EAA9B,KAGEF,KAAOR,EAAYC,IACrBF,EAAMa,UAAUC,IAAI,SACpBf,EAAMc,UAAUC,IAAI,WAEpBd,EAAMa,UAAUE,OAAO,SACvBhB,EAAMc,UAAUE,OAAO,WAG3B,MAAO,CACLtD,SACA0C,SACAtD,WACAuD,eLbW,GACbxD,KAAM,mBACNkC,WAAY,CACVkC,WAAA,EACAC,YAAA,EACAC,UAAA,QAEF5D,MAPa,WAQX,IAAM6D,EAAQ,iBACRzE,EAAW,eAAI,IACf0E,EAAW,eAAI,MACf7E,EAAU,gBAAI,GACdO,EAAQ,gBAAI,GACZY,EAAU,eAAI,MAEdT,EAAY,gBAAI,GAChBT,EAAY,WAChBS,EAAUW,OAAQ,EAClByD,YAAW,WACT3D,EAAQE,OAASF,EAAQE,MAAMiD,UAAUC,IAAI,YAIjD,EAKI,IAJFjE,EADF,EACEA,SACAY,EAFF,EAEEA,OACA0C,EAHF,EAGEA,OACAC,EAJF,EAIEA,UAoDF,OAtBA,eAAW,wCAAC,+GACJ5B,EAAK2C,EAAMG,OAAO9C,GAClB+C,EAAOJ,EAAMG,OAAOC,KACb,iBAATA,EAHM,gCAIW,eAAc,CAAE/C,OAJ3B,OAIFgD,EAJE,OAKR9E,EAASkB,MAAQ4D,EAAK9E,SALd,UAOG,UAAT6E,EAPM,wBAQRzE,EAAMc,OAAQ,EARN,UASW,eAAe,CAAEY,OAT5B,QASF,EATE,OAUR9B,EAASkB,MAAQ,EAAK6D,MACtB/E,EAASkB,MAAMjB,YAAc,EAAK8E,MAAMC,WACxChF,EAASkB,MAAMZ,OAAS,EAAK2E,MAZrB,WAcG,WAATJ,EAdM,wBAeRzE,EAAMc,OAAQ,EAfN,UAgBW,eAAmBY,GAhB9B,QAgBF,EAhBE,OAiBR9B,EAASkB,MAAMjB,YAAc,EAAKA,YAClCD,EAASkB,MAAMhB,KAAO,EAAKA,KAC3BF,EAASkB,MAAMZ,OAAS,EAAK2E,MAnBrB,6CAsBL,CACLjF,WACA0E,WAGAvE,WACAY,SACA0C,SAEAC,YACA7D,UACAO,QACAG,YACAT,YACAkB,a,UMlHN,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASkE,GAAQ,CAAC,YAAY,qBAE1E,gB,yDCTf","file":"js/chunk-eded67c8.c29b1cbb.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./detail-list.vue?vue&type=style&index=0&id=551c1d76&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./detail-cover.vue?vue&type=style&index=0&id=11e3d7af&scoped=true&lang=scss\"","<template>\n  <div class='wrap global-bg'>\n    <detail-cover :isFixed='isFixed' @img-load='onImgLoad' :pic='playlist.coverImgUrl' ref='picRef'>\n      <sub-header class='sub-header' ref='navRef'>\n        {{ playlist && playlist.name }}\n      </sub-header>\n    </detail-cover>\n    <!--    如果是专辑推荐列表 不显示图片-->\n    <detail-list @scroll='onScroll' v-if='playlist' :isPic='isPic' :list='playlist.tracks'\n                 ref='scrollRef'></detail-list>\n    <div class='detail-mask' ref='maskRef'>\n      <div class='detail-mask-inner' v-load='!isPicLoad'>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// 推荐详情\nimport SubHeader from '@/components/header/sub-header'\nimport DetailCover from '@/components/cover/detail-cover'\nimport DetailList from '@/components-block/recommend/detail-list'\nimport { ref, watchEffect } from 'vue'\nimport { getAlbumDetail, getPlayDetail, getSongsToSingerId } from '@/api'\nimport { useRoute } from 'vue-router'\nimport useDetailCover from './use-detail-cover'\n\nexport default {\n  name: 'Recommend-detail',\n  components: {\n    DetailList,\n    DetailCover,\n    SubHeader\n  },\n  setup() {\n    const route = useRoute()\n    const playlist = ref({})\n    const coverRef = ref(null)\n    const isFixed = ref(false)\n    const isPic = ref(true)\n    const maskRef = ref(null)\n    // 封面加载完\n    const isPicLoad = ref(false)\n    const onImgLoad = () => {\n      isPicLoad.value = true\n      setTimeout(() => {\n        maskRef.value && maskRef.value.classList.add('hide')\n      })\n    }\n    //\n    const {\n      onScroll,\n      picRef,\n      navRef,\n      scrollRef\n    } = useDetailCover()\n    // 上面bar的高度\n    // const TOPBAR_HEIGHT = 44\n    // const onListScroll = ({ y }) => {\n    //   if (!coverRef.value) return\n    //   const pic = coverRef.value.picRef\n    //   const height = scrollRef.value.$el.getBoundingClientRect().top\n    //   const disTop = height + y\n    //   const percent = 1 + (height - Math.abs(disTop)) / height\n    //   let sepia = percent\n    //   if (sepia > 1) {\n    //     sepia = 1\n    //   }\n    //   pic.style.filter = `sepia(${sepia / 0.3})`\n    //   // 如果达到上面bar的高度限制, bar浮起来的效果\n    //   if (disTop <= TOPBAR_HEIGHT) {\n    //     isFixed.value = true\n    //   } else {\n    //     isFixed.value = false\n    //   }\n    //   if (disTop >= height) {\n    //     pic.style.transform = `scale(${2 - percent})`\n    //     // 向下拉时将scroll的背景清除\n    //     scrollRef.value.$el.style.background = 'rgba(0,0,0,0)'\n    //     pic.style.filter = `sepia(0)`\n    //   } else {\n    //     scrollRef.value.$el.style.background = 'white'\n    //   }\n    // }\n    watchEffect(async () => {\n      const id = route.params.id\n      const type = route.params.type\n      if (type === 'personalized') {\n        const data = await getPlayDetail({ id })\n        playlist.value = data.playlist\n      }\n      if (type === 'album') {\n        isPic.value = false\n        const data = await getAlbumDetail({ id })\n        playlist.value = data.album\n        playlist.value.coverImgUrl = data.album.blurPicUrl\n        playlist.value.tracks = data.songs\n      }\n      if (type === 'singer') {\n        isPic.value = true\n        const data = await getSongsToSingerId(id)\n        playlist.value.coverImgUrl = data.coverImgUrl\n        playlist.value.name = data.name\n        playlist.value.tracks = data.songs\n      }\n    })\n    return {\n      playlist,\n      coverRef,\n      // onListScroll,\n      //\n      onScroll,\n      picRef,\n      navRef,\n      //\n      scrollRef,\n      isFixed,\n      isPic,\n      isPicLoad,\n      onImgLoad,\n      maskRef\n    }\n  }\n}\n</script>\n\n<style scoped lang='scss'>\n.wrap {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 22;\n}\n\n.sub-header {\n  z-index: 20;\n\n  .fixed {\n    position: fixed;\n    left: -1px;\n    right: 0;\n    height: 88px;\n    z-index: 20;\n  }\n}\n\n.detail-mask {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 2;\n  @extend .global-bg;\n\n  &.hide {\n    display: none;\n  }\n\n  .detail-mask-inner {\n    width: 100%;\n    margin-top: 100px;\n    height: calc(100% - 100px);\n  }\n\n  .loading-wrap {\n    margin-top: 100px;\n    box-sizing: border-box;\n  }\n}\n</style>\n","<template>\n  <div class='header-top'>\n    <slot></slot>\n  </div>\n  <div class='cover-wrap' :class='{\"has-fixed\": isFixed}'>\n    <div class='mask' ref='maskRef'></div>\n    <img ref='picRef' :src='pic' @load='onImgLoad'>\n    <h4 class='singer'>{{ singer }}</h4>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\n\nexport default {\n  name: 'detail-cover',\n  props: ['pic', 'singer', 'isFixed'],\n  emits: ['img-load'],\n  setup(props, { emit }) {\n    const isShow = ref(true)\n    const picRef = ref(null)\n    const maskRef = ref(null)\n    const onImgLoad = (e) => {\n      emit('img-load')\n      if (maskRef.value) {\n        maskRef.value.style.height = e.target.clientHeight + 'px'\n      }\n    }\n    return {\n      picRef,\n      maskRef,\n      isShow,\n      onImgLoad\n    }\n  }\n}\n</script>\n\n<style scoped lang='scss'>\n.cover-wrap {\n  width: 100%;\n  height: 100px;\n  height: 750px;\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: -1;\n  transform-origin: top;\n  background: #26303c;\n\n  &.fixed {\n    position: fixed;\n    left: 0;\n    width: 100%;\n    height: 88px;\n    z-index: 19;\n  }\n\n  img {\n    width: 100%;\n    transform-origin: top;\n  }\n\n  .mask {\n    width: 100%;\n    background: #000;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 1;\n    opacity: 0.5;\n  }\n\n  .singer {\n    position: absolute;\n    top: 300px;\n    left: 32px;\n    font-size: 64px;\n    color: #FFFFFF;\n    opacity: 0.6;\n  }\n\n  .header-top {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 88px;\n    z-index: 111;\n  }\n}\n</style>\n","import { render } from \"./detail-cover.vue?vue&type=template&id=11e3d7af&scoped=true\"\nimport script from \"./detail-cover.vue?vue&type=script&lang=js\"\nexport * from \"./detail-cover.vue?vue&type=script&lang=js\"\n\nimport \"./detail-cover.vue?vue&type=style&index=0&id=11e3d7af&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/nmy/code/vue3-music/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-11e3d7af\"]])\n\nexport default __exports__","<template>\n  <scroll class='list-wrap' probe-type='3' ref='scrollRef' :bounce='true' @scroll='onScroll'>\n    <div class='wrap-bg'>\n      <div class='header'>音乐列表\n        <div class='operate' @click='onPlayModeType'>\n          <span class='word'>{{ calcCurrPlayModeType }}</span>\n          <i class='icon shunxu' ref='playModeTypeRef'></i>\n        </div>\n      </div>\n      <div class='content'>\n        <div class='item' v-for='item in list' :key='item.id' @click='onSelectItem(item)'>\n          <div class='pic' v-if='isPic'>\n            <img ref='pic' v-lazy='item.al.picUrl'>\n          </div>\n          <div class='desc'>\n            <h4 class='name' :class='{active: currentSong.id === item.id}'>{{ item.name }}</h4>\n            <h4 class='sub-name'>{{ item.ar[0].name }} - {{ item.al.name }}</h4>\n          </div>\n        </div>\n      </div>\n    </div>\n    <mini-player-box></mini-player-box>\n  </scroll>\n</template>\n\n<script>\nimport Scroll from '@/components/scroll/scroll'\nimport { ref } from 'vue'\nimport { useStore } from 'vuex'\nimport MiniPlayerBox from '@/components/mini-player-box/mini-player-box'\nimport usePlayModeType from '@/components-block/player/use-play-mode-type'\nimport usePlaySong from '@/components-block/player/use-play-song'\nimport usePlayState from '@/components-block/player/use-play-state'\nimport useSongDetail from '@/components-block/player/use-song-detail'\nimport usePlayMusic from '@/views/user/use-play-music'\n\nexport default {\n  name: 'detail-list',\n  props: ['list', 'isPic'],\n  emits: ['scroll'],\n  components: {\n    MiniPlayerBox,\n    Scroll\n  },\n  setup(props, { emit }) {\n    const store = useStore()\n    const pic = ref(null)\n    const onScroll = (e) => {\n      emit('scroll', e)\n    }\n    // 播放状态\n    usePlayState({})\n    const { playListToId } = usePlayMusic()\n    const onSelectItem = async (item) => {\n      const copyList = JSON.parse(JSON.stringify(props.list))\n      copyList.forEach(song => {\n        song.picUrl = song.al.picUrl\n        song.singer = song.ar.map(it => it.name).join(' ')\n      })\n      await playListToId(copyList, item.id)\n    }\n    // 当前播放类型\n    const playModeTypeRef = ref(null)\n    const {\n      calcCurrPlayModeType\n    } = usePlayModeType({ playModeTypeRef })\n    const { playSongs } = usePlaySong()\n    const onPlayModeType = async () => {\n      await playSongs(props.list)\n      store.commit('setFullScreen', true)\n    }\n    // 当前播放信息\n    const { currentSong } = useSongDetail()\n    return {\n      onScroll,\n      pic,\n      onSelectItem,\n      playModeTypeRef,\n      calcCurrPlayModeType,\n      onPlayModeType,\n      currentSong\n    }\n  }\n}\n</script>\n\n<style scoped lang='scss'>\n.list-wrap {\n  position: fixed;\n  top: 496px;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n\n  .wrap-bg {\n    background: #26303c;\n    padding: 32px;\n    min-height: calc(100vh - 496px);\n    box-sizing: border-box;\n  }\n\n  .header {\n    font-size: 30px;\n    color: $color-sub;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .operate {\n      border: 1px solid #9fa2ac;\n      height: 54px;\n      padding: 0 18px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: $color-light;\n      border-radius: 22px;\n      font-size: $font-size-medium;\n      font-weight: normal;\n\n      .word {\n        font-weight: bold;\n        margin-right: 10px;\n      }\n\n      .icon {\n        width: 28px;\n        height: 28px;\n        display: inline-block;\n        background-size: cover;\n\n        &.shunxu {\n          @include bg-image('~@/assets/imgs/mode-type-1');\n        }\n\n        &.single {\n          @include bg-image('~@/assets/imgs/mode-type-2');\n        }\n\n        &.random {\n          @include bg-image('~@/assets/imgs/mode-type-3');\n        }\n      }\n    }\n  }\n\n  .content {\n    margin-top: 16px;\n\n    .item {\n      display: flex;\n      padding: 16px 0;\n\n      .pic {\n        flex-shrink: 0;\n        width: 120px;\n        height: 120px;\n        border-radius: 30px;\n        overflow: hidden;\n        margin-right: 16px;\n\n        img {\n          width: 100%;\n        }\n      }\n\n      .desc {\n        display: flex;\n        flex-wrap: wrap;\n        align-content: space-between;\n        height: 120px;\n        align-content: center;\n\n        .name {\n          width: 100%;\n          color: $color-light;\n          font-size: $font-size-medium;\n          @include clamp(1);\n\n          &.active {\n            color: $color-main;\n          }\n        }\n\n        .sub-name {\n          margin-top: 16px;\n          width: 100%;\n          color: $color-sub;\n          font-size: $font-size-medium;\n          @include clamp(1);\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./detail-list.vue?vue&type=template&id=551c1d76&scoped=true\"\nimport script from \"./detail-list.vue?vue&type=script&lang=js\"\nexport * from \"./detail-list.vue?vue&type=script&lang=js\"\n\nimport \"./detail-list.vue?vue&type=style&index=0&id=551c1d76&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/nmy/code/vue3-music/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-551c1d76\"]])\n\nexport default __exports__","import { ref, onMounted } from 'vue'\n\nexport default function() {\n  const picRef = ref(null)\n  const navRef = ref(null)\n  const scrollRef = ref(null)\n  let picEl\n  let navEl\n  let picHeight\n  let navHeight\n  onMounted(() => {\n    picEl = picRef.value.picRef.parentNode\n    navEl = navRef.value.$el\n    // picHeight = picEl.clientHeight\n    picHeight = scrollRef.value.$el.getBoundingClientRect().y\n    navHeight = navEl.clientHeight\n  })\n  const onScroll = ({ y }) => {\n    // 下拉放大\n    if (y > 0) {\n      picEl.style.transform = `scale(${1 + y / picHeight})`\n    } else {\n      let val = -y / picHeight\n      if (val > 1.2) {\n        val = 1\n      }\n      picEl.style.filter = `sepia(${val})`\n    }\n    // 判断nav\n    if (y <= -(picHeight - navHeight)) {\n      navEl.classList.add('fixed')\n      picEl.classList.add('fixed')\n    } else {\n      navEl.classList.remove('fixed')\n      picEl.classList.remove('fixed')\n    }\n  }\n  return {\n    picRef,\n    navRef,\n    onScroll,\n    scrollRef\n  }\n}\n","import { render } from \"./Recommend-detail.vue?vue&type=template&id=7c3c41c4&scoped=true\"\nimport script from \"./Recommend-detail.vue?vue&type=script&lang=js\"\nexport * from \"./Recommend-detail.vue?vue&type=script&lang=js\"\n\nimport \"./Recommend-detail.vue?vue&type=style&index=0&id=7c3c41c4&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/nmy/code/vue3-music/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c3c41c4\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Recommend-detail.vue?vue&type=style&index=0&id=7c3c41c4&scoped=true&lang=scss\""],"sourceRoot":""}